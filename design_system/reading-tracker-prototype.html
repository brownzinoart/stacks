<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reading Tracker - Prototype</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #f5f5f0;
      padding: 20px;
    }

    .container {
      max-width: 640px;
      margin: 0 auto;
    }

    .page-title {
      font-size: 32px;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: -1px;
      margin-bottom: 24px;
      text-align: center;
    }

    .section-title {
      font-size: 20px;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: -0.5px;
      margin-bottom: 16px;
      padding-left: 4px;
    }

    /* Reading Progress Card */
    .reading-card {
      position: relative;
      background: white;
      border: 5px solid black;
      border-radius: 20px;
      box-shadow: 6px 6px 0 0 black;
      padding: 24px;
      margin-bottom: 24px;
    }

    .goal-edit-btn {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 24px;
      height: 24px;
      background: rgba(255, 255, 255, 0.3);
      border: 2px solid black;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.1s;
      font-size: 12px;
      padding: 0;
    }

    .goal-edit-btn:hover {
      background: rgba(255, 255, 255, 0.5);
      transform: translate(-1px, -1px);
      box-shadow: 2px 2px 0 0 black;
    }

    .goal-edit-btn:active {
      transform: translate(0px, 0px);
      box-shadow: 1px 1px 0 0 black;
    }

    .book-header {
      display: flex;
      gap: 16px;
      margin-bottom: 20px;
      align-items: flex-start;
    }

    .book-cover {
      width: 64px;
      height: 96px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: 4px solid black;
      border-radius: 8px;
      box-shadow: 3px 3px 0 0 black;
      flex-shrink: 0;
    }

    .book-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      gap: 8px;
    }

    .book-title {
      font-size: 18px;
      font-weight: 900;
      text-transform: uppercase;
      line-height: 1.2;
    }

    .book-author {
      font-size: 14px;
      font-weight: 600;
      color: #666;
    }

    /* Progress Bar */
    .progress-section {
      margin-bottom: 20px;
    }

    .progress-bar-container {
      position: relative;
      width: 100%;
      height: 20px;
      background: #e5e7eb;
      border: 4px solid black;
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 8px;
    }

    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, #10b981 0%, #06b6d4 100%);
      transition: width 0.3s ease;
    }

    .progress-percentage {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 12px;
      font-weight: 900;
      color: black;
    }

    .progress-text {
      font-size: 14px;
      font-weight: 700;
      color: #666;
    }

    /* Pace Badge */
    .pace-badge {
      position: absolute;
      top: 20px;
      right: 20px;
      padding: 8px 14px;
      border: 3px solid black;
      border-radius: 8px;
      box-shadow: 3px 3px 0 0 black;
      font-size: 11px;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: white;
      white-space: nowrap;
      z-index: 10;
    }

    .pace-badge.ahead {
      background: #10b981;
    }

    .pace-badge.on-track {
      background: #f59e0b;
    }

    .pace-badge.behind {
      background: #ef4444;
    }

    .pace-badge.crushing {
      background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    }

    /* Primary Goal Metrics */
    .primary-goals {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 16px;
    }

    .goal-card {
      position: relative;
      padding: 16px;
      border: 4px solid black;
      border-radius: 12px;
      box-shadow: 4px 4px 0 0 black;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .goal-card.target {
      background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    }

    .goal-card.daily {
      background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
      color: white;
    }

    .goal-emoji {
      font-size: 28px;
      line-height: 1;
      flex-shrink: 0;
    }

    .goal-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .goal-label {
      font-size: 10px;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      opacity: 0.8;
      line-height: 1;
    }

    .goal-card.daily .goal-label {
      color: white;
    }

    .goal-main-value {
      font-size: 20px;
      font-weight: 900;
      line-height: 1;
    }

    /* Date Picker Dropdown */
    .date-picker-dropdown {
      position: absolute;
      top: calc(100% + 8px);
      left: 0;
      right: 0;
      background: white;
      border: 4px solid black;
      border-radius: 12px;
      box-shadow: 6px 6px 0 0 black;
      padding: 20px;
      z-index: 100;
      display: none;
    }

    .date-picker-dropdown.active {
      display: block;
    }

    .date-picker-header {
      font-size: 14px;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 16px;
      text-align: center;
    }

    .date-input-wrapper {
      margin-bottom: 16px;
    }

    .date-input-wrapper label {
      display: block;
      font-size: 11px;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 8px;
      letter-spacing: 0.5px;
    }

    .date-picker-input {
      width: 100%;
      padding: 14px 16px;
      font-size: 16px;
      font-weight: 700;
      border: 4px solid black;
      border-radius: 8px;
      background: white;
      text-align: center;
      cursor: pointer;
    }

    .date-picker-input:focus {
      outline: none;
      transform: translate(-1px, -1px);
      box-shadow: 3px 3px 0 0 black;
    }

    .date-picker-actions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }

    .date-picker-btn {
      padding: 12px 16px;
      font-size: 12px;
      font-weight: 900;
      text-transform: uppercase;
      border: 4px solid black;
      border-radius: 8px;
      box-shadow: 3px 3px 0 0 black;
      cursor: pointer;
      transition: all 0.1s;
    }

    .date-picker-btn.primary {
      background: #10b981;
      color: white;
    }

    .date-picker-btn.secondary {
      background: white;
      color: black;
    }

    .date-picker-btn:hover {
      transform: translate(-1px, -1px);
      box-shadow: 4px 4px 0 0 black;
    }

    .date-picker-btn:active {
      transform: translate(1px, 1px);
      box-shadow: 2px 2px 0 0 black;
    }

    /* Secondary Stats */
    .secondary-stats {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 16px;
      background: #f9fafb;
      border: 3px solid black;
      border-radius: 12px;
      margin-bottom: 20px;
    }

    .secondary-stat {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      font-weight: 700;
    }

    .stat-icon {
      font-size: 16px;
    }

    .stat-value {
      font-weight: 900;
      color: #000;
    }

    /* Time Comparison */
    .time-comparison {
      padding: 16px;
      background: #fef3c7;
      border: 3px solid #f59e0b;
      border-radius: 12px;
      margin-bottom: 20px;
    }

    .comparison-title {
      font-size: 12px;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 8px;
      color: #92400e;
    }

    .comparison-text {
      font-size: 14px;
      font-weight: 600;
      line-height: 1.4;
      color: #000;
    }

    /* Check-In Widget */
    .check-in-widget {
      padding: 20px;
      background: #e0f2fe;
      border: 4px solid #0284c7;
      border-radius: 12px;
      box-shadow: 4px 4px 0 0 #0284c7;
    }

    .check-in-title {
      font-size: 14px;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 12px;
    }

    .input-group {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .page-input {
      flex: 1;
      padding: 12px 16px;
      font-size: 18px;
      font-weight: 900;
      border: 4px solid black;
      border-radius: 8px;
      background: white;
      text-align: center;
    }

    .quick-buttons {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 6px;
      margin-bottom: 24px;
    }

    .quick-btn {
      padding: 10px 4px;
      font-size: 13px;
      font-weight: 900;
      background: white;
      border: 3px solid black;
      border-radius: 8px;
      box-shadow: 2px 2px 0 0 black;
      cursor: pointer;
      transition: all 0.1s;
      text-align: center;
    }

    .quick-btn.custom {
      grid-column: span 2;
    }

    .quick-btn:hover {
      transform: translate(-1px, -1px);
      box-shadow: 3px 3px 0 0 black;
    }

    .quick-btn:active {
      transform: translate(1px, 1px);
      box-shadow: 1px 1px 0 0 black;
    }

    .log-button {
      width: 100%;
      padding: 16px;
      font-size: 16px;
      font-weight: 900;
      text-transform: uppercase;
      color: white;
      background: #0284c7;
      border: 4px solid black;
      border-radius: 12px;
      box-shadow: 4px 4px 0 0 black;
      cursor: pointer;
      transition: all 0.1s;
    }

    .log-button:hover {
      transform: translate(-2px, -2px);
      box-shadow: 6px 6px 0 0 black;
    }

    .log-button:active {
      transform: translate(2px, 2px);
      box-shadow: 2px 2px 0 0 black;
    }

    /* Finished Books Section */
    .finished-section {
      margin-top: 48px;
    }

    .finished-card {
      background: white;
      border: 4px solid black;
      border-radius: 12px;
      box-shadow: 4px 4px 0 0 black;
      padding: 16px;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 12px;
      position: relative;
    }

    .finished-cover {
      width: 48px;
      height: 72px;
      border: 3px solid black;
      border-radius: 6px;
      box-shadow: 2px 2px 0 0 black;
      flex-shrink: 0;
    }

    .finished-icon {
      position: absolute;
      top: 12px;
      left: 12px;
      width: 24px;
      height: 24px;
      background: #10b981;
      border: 2px solid black;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      flex-shrink: 0;
      z-index: 1;
    }

    .finished-info {
      flex: 1;
    }

    .finished-title {
      font-size: 16px;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 4px;
      line-height: 1.2;
    }

    .finished-meta {
      font-size: 12px;
      font-weight: 600;
      color: #666;
    }

    .finished-rating {
      font-size: 20px;
    }

    /* Celebration Modal */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.8);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
    }

    .modal-overlay.active {
      display: flex;
    }

    .celebration-modal {
      background: white;
      border: 5px solid black;
      border-radius: 20px;
      box-shadow: 8px 8px 0 0 black;
      padding: 32px;
      max-width: 400px;
      width: 100%;
      text-align: center;
    }

    .celebration-title {
      font-size: 32px;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 16px;
    }

    .celebration-emoji {
      font-size: 48px;
      margin-bottom: 16px;
    }

    .celebration-book {
      font-size: 20px;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    .celebration-days {
      font-size: 16px;
      font-weight: 600;
      color: #666;
      margin-bottom: 24px;
    }

    .celebration-stats {
      background: #f9fafb;
      border: 3px solid black;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 24px;
      text-align: left;
    }

    .celebration-stat {
      font-size: 14px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .celebration-stat:last-child {
      margin-bottom: 0;
    }

    .rating-section {
      margin-bottom: 24px;
    }

    .rating-title {
      font-size: 14px;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 12px;
    }

    .rating-buttons {
      display: flex;
      justify-content: center;
      gap: 12px;
    }

    .rating-btn {
      padding: 12px 20px;
      font-size: 24px;
      background: white;
      border: 3px solid black;
      border-radius: 12px;
      box-shadow: 3px 3px 0 0 black;
      cursor: pointer;
      transition: all 0.1s;
    }

    .rating-btn:hover {
      transform: translate(-1px, -1px);
      box-shadow: 4px 4px 0 0 black;
    }

    .rating-btn.selected {
      background: #fef3c7;
      border-color: #f59e0b;
    }

    .modal-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .modal-btn {
      padding: 16px;
      font-size: 14px;
      font-weight: 900;
      text-transform: uppercase;
      border: 4px solid black;
      border-radius: 12px;
      box-shadow: 4px 4px 0 0 black;
      cursor: pointer;
      transition: all 0.1s;
    }

    .modal-btn.primary {
      background: #10b981;
      color: white;
    }

    .modal-btn.secondary {
      background: white;
      color: black;
    }

    .modal-btn:hover {
      transform: translate(-2px, -2px);
      box-shadow: 6px 6px 0 0 black;
    }

    /* Responsive */
    @media (max-width: 640px) {
      body {
        padding: 12px;
      }

      .reading-card {
        padding: 16px;
      }

      .book-header {
        gap: 12px;
      }

      .book-cover {
        width: 56px;
        height: 84px;
      }

      .book-title {
        font-size: 16px;
      }
    }

    /* Demo Controls */
    .demo-controls {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 16px;
      background: #fef3c7;
      border: 4px solid black;
      border-radius: 12px;
      box-shadow: 4px 4px 0 0 black;
      z-index: 999;
    }

    .demo-btn {
      display: block;
      width: 100%;
      padding: 12px;
      margin-bottom: 8px;
      font-size: 12px;
      font-weight: 900;
      text-transform: uppercase;
      background: white;
      border: 3px solid black;
      border-radius: 8px;
      cursor: pointer;
    }

    .demo-btn:last-child {
      margin-bottom: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="page-title">üìö Reading Tracker</h1>

    <!-- Currently Reading Section -->
    <section>
      <h2 class="section-title">Currently Reading</h2>

      <!-- Book 1: The Cruel Prince -->
      <div class="reading-card" data-book-id="book1" data-current-page="194" data-total-pages="370" data-target-date="2024-11-30">
        <div class="pace-badge ahead">üî• AHEAD BY 3 DAYS</div>

        <div class="book-header">
          <div class="book-cover" style="background: url('https://covers.openlibrary.org/b/isbn/9780316310277-L.jpg') center/cover no-repeat;"></div>
          <div class="book-info">
            <div>
              <div class="book-title">The Cruel Prince</div>
              <div class="book-author">Holly Black</div>
            </div>
          </div>
        </div>

        <div class="progress-section">
          <div class="progress-bar-container">
            <div class="progress-bar-fill" style="width: 52%;"></div>
            <div class="progress-percentage">52%</div>
          </div>
          <div class="progress-text">194 / 370 pages</div>
        </div>

        <div class="primary-goals">
          <div class="goal-card target">
            <button class="goal-edit-btn" onclick="toggleDatePicker('book1')">‚úèÔ∏è</button>

            <!-- Date Picker Dropdown -->
            <div class="date-picker-dropdown" id="datePicker-book1">
              <div class="date-picker-header">Set Target Date</div>
              <div class="date-input-wrapper">
                <label>Target Completion Date</label>
                <input type="date" class="date-picker-input" id="dateInput-book1" value="2024-11-30">
              </div>
              <div class="date-picker-actions">
                <button class="date-picker-btn secondary" onclick="closeDatePicker('book1')">Cancel</button>
                <button class="date-picker-btn primary" onclick="saveDate('book1')">Save</button>
              </div>
            </div>

            <div class="goal-emoji">üéØ</div>
            <div class="goal-content">
              <div class="goal-label">Target Date</div>
              <div class="goal-main-value" data-target-display>Nov 30</div>
            </div>
          </div>
          <div class="goal-card daily">
            <div class="goal-emoji">üìä</div>
            <div class="goal-content">
              <div class="goal-label">Daily Goal</div>
              <div class="goal-main-value" data-daily-goal>12 pages</div>
            </div>
          </div>
        </div>

        <div class="secondary-stats">
          <div class="secondary-stat">
            <span class="stat-icon">‚ö°</span>
            <span><span class="stat-value">7 day</span> streak</span>
          </div>
        </div>

        <div class="time-comparison">
          <div class="comparison-title">üí° TODAY'S VIBE CHECK:</div>
          <div class="comparison-text">
            That's like watching <strong>1 episode of Stranger Things</strong> instead of scrolling
          </div>
        </div>

        <div class="check-in-widget">
          <div class="check-in-title">TODAY'S CHECK-IN:</div>
          <div class="input-group">
            <label style="font-weight: 700;">Pages read:</label>
            <input type="number" class="page-input" value="20" placeholder="0">
          </div>
          <div class="quick-buttons">
            <button class="quick-btn" onclick="addPages(5)">+5</button>
            <button class="quick-btn" onclick="addPages(10)">+10</button>
            <button class="quick-btn" onclick="addPages(15)">+15</button>
            <button class="quick-btn" onclick="addPages(20)">+20</button>
            <button class="quick-btn" onclick="addPages(25)">+25</button>
            <button class="quick-btn" onclick="addPages(30)">+30</button>
            <button class="quick-btn" onclick="addPages(35)">+35</button>
            <button class="quick-btn" onclick="addPages(40)">+40</button>
            <button class="quick-btn" onclick="addPages(45)">+45</button>
            <button class="quick-btn" onclick="addPages(50)">+50</button>
            <button class="quick-btn custom" onclick="promptCustomPages()">Custom</button>
          </div>
          <button class="log-button" onclick="logProgress()">Log Progress</button>
        </div>
      </div>

      <!-- Book 2: Fourth Wing -->
      <div class="reading-card" data-book-id="book2" data-current-page="139" data-total-pages="498" data-target-date="2024-12-15">
        <div class="pace-badge behind">BEHIND: +15 PAGES</div>

        <div class="book-header">
          <div class="book-cover" style="background: url('https://covers.openlibrary.org/b/isbn/9781649374042-L.jpg') center/cover no-repeat;"></div>
          <div class="book-info">
            <div>
              <div class="book-title">Fourth Wing</div>
              <div class="book-author">Rebecca Yarros</div>
            </div>
          </div>
        </div>

        <div class="progress-section">
          <div class="progress-bar-container">
            <div class="progress-bar-fill" style="width: 28%; background: linear-gradient(90deg, #f59e0b 0%, #fb923c 100%);"></div>
            <div class="progress-percentage">28%</div>
          </div>
          <div class="progress-text">139 / 498 pages</div>
        </div>

        <div class="primary-goals">
          <div class="goal-card target">
            <button class="goal-edit-btn" onclick="toggleDatePicker('book2')">‚úèÔ∏è</button>

            <!-- Date Picker Dropdown -->
            <div class="date-picker-dropdown" id="datePicker-book2">
              <div class="date-picker-header">Set Target Date</div>
              <div class="date-input-wrapper">
                <label>Target Completion Date</label>
                <input type="date" class="date-picker-input" id="dateInput-book2" value="2024-12-15">
              </div>
              <div class="date-picker-actions">
                <button class="date-picker-btn secondary" onclick="closeDatePicker('book2')">Cancel</button>
                <button class="date-picker-btn primary" onclick="saveDate('book2')">Save</button>
              </div>
            </div>

            <div class="goal-emoji">üéØ</div>
            <div class="goal-content">
              <div class="goal-label">Target Date</div>
              <div class="goal-main-value" data-target-display>Dec 15</div>
            </div>
          </div>
          <div class="goal-card daily">
            <div class="goal-emoji">üìä</div>
            <div class="goal-content">
              <div class="goal-label">Daily Goal</div>
              <div class="goal-main-value" data-daily-goal>18 pages</div>
            </div>
          </div>
        </div>

        <div class="secondary-stats">
          <div class="secondary-stat">
            <span class="stat-icon">‚ö°</span>
            <span><span class="stat-value">3 day</span> streak</span>
          </div>
        </div>

        <div class="time-comparison">
          <div class="comparison-title">üí° TODAY'S VIBE CHECK:</div>
          <div class="comparison-text">
            That's <strong>20 mins less TikTok scrolling</strong> per day
          </div>
        </div>

        <div class="check-in-widget">
          <div class="check-in-title">TODAY'S CHECK-IN:</div>
          <div class="input-group">
            <label style="font-weight: 700;">Pages read:</label>
            <input type="number" class="page-input" value="" placeholder="0">
          </div>
          <div class="quick-buttons">
            <button class="quick-btn" onclick="addPages(5)">+5</button>
            <button class="quick-btn" onclick="addPages(10)">+10</button>
            <button class="quick-btn" onclick="addPages(15)">+15</button>
            <button class="quick-btn" onclick="addPages(20)">+20</button>
            <button class="quick-btn" onclick="addPages(25)">+25</button>
            <button class="quick-btn" onclick="addPages(30)">+30</button>
            <button class="quick-btn" onclick="addPages(35)">+35</button>
            <button class="quick-btn" onclick="addPages(40)">+40</button>
            <button class="quick-btn" onclick="addPages(45)">+45</button>
            <button class="quick-btn" onclick="addPages(50)">+50</button>
            <button class="quick-btn custom" onclick="promptCustomPages()">Custom</button>
          </div>
          <button class="log-button" onclick="logProgress()">Log Progress</button>
        </div>
      </div>
    </section>

    <!-- Finished This Month Section -->
    <section class="finished-section">
      <h2 class="section-title">Finished This Month (3)</h2>

      <div class="finished-card">
        <div class="finished-icon">‚úì</div>
        <div class="finished-cover" style="background: url('https://covers.openlibrary.org/b/isbn/9781627792127-L.jpg') center/cover no-repeat;"></div>
        <div class="finished-info">
          <div class="finished-title">Six of Crows</div>
          <div class="finished-meta">Finished 11/15 ‚Ä¢ 465 pages ‚Ä¢ 10-day streak</div>
        </div>
        <div class="finished-rating">‚ù§Ô∏è</div>
      </div>

      <div class="finished-card">
        <div class="finished-icon">‚úì</div>
        <div class="finished-cover" style="background: url('https://covers.openlibrary.org/b/isbn/9781635575569-L.jpg') center/cover no-repeat;"></div>
        <div class="finished-info">
          <div class="finished-title">A Court of Thorns and Roses</div>
          <div class="finished-meta">Finished 11/08 ‚Ä¢ 419 pages ‚Ä¢ 7-day streak</div>
        </div>
        <div class="finished-rating">üòä</div>
      </div>

      <div class="finished-card">
        <div class="finished-icon">‚úì</div>
        <div class="finished-cover" style="background: url('https://covers.openlibrary.org/b/isbn/9780062060624-L.jpg') center/cover no-repeat;"></div>
        <div class="finished-info">
          <div class="finished-title">The Song of Achilles</div>
          <div class="finished-meta">Finished 11/02 ‚Ä¢ 352 pages ‚Ä¢ 12-day streak</div>
        </div>
        <div class="finished-rating">‚ù§Ô∏è</div>
      </div>
    </section>
  </div>

  <!-- Celebration Modal -->
  <div class="modal-overlay" id="celebrationModal">
    <div class="celebration-modal">
      <div class="celebration-emoji">üéâ</div>
      <div class="celebration-title">Book Done!</div>
      <div class="celebration-book">The Cruel Prince</div>
      <div class="celebration-days">Finished in 12 days!</div>

      <div class="celebration-stats">
        <div class="celebration-stat">‚Ä¢ 370 pages read</div>
        <div class="celebration-stat">‚Ä¢ 8-day streak maintained</div>
        <div class="celebration-stat">‚Ä¢ Finished 3 days early!</div>
      </div>

      <div class="rating-section">
        <div class="rating-title">‚≠ê Rate it (for better recs):</div>
        <div class="rating-buttons">
          <button class="rating-btn" onclick="selectRating(this)" data-rating="loved">‚ù§Ô∏è</button>
          <button class="rating-btn" onclick="selectRating(this)" data-rating="liked">üòä</button>
          <button class="rating-btn" onclick="selectRating(this)" data-rating="meh">üòê</button>
        </div>
      </div>

      <div class="modal-actions">
        <button class="modal-btn primary" onclick="shareBook()">Share to Feed</button>
        <button class="modal-btn secondary" onclick="addToStack()">Add to Stack</button>
        <button class="modal-btn secondary" onclick="closeModal()">Skip</button>
      </div>
    </div>
  </div>

  <!-- Demo Controls -->
  <div class="demo-controls">
    <button class="demo-btn" onclick="showModal()">Show Celebration</button>
    <button class="demo-btn" onclick="changePace()">Change Pace Status</button>
  </div>

  <script>
    // Close date picker when clicking outside
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.date-picker-dropdown') && !event.target.closest('.goal-edit-btn')) {
        document.querySelectorAll('.date-picker-dropdown').forEach(picker => {
          picker.classList.remove('active');
        });
      }
    });

    function addPages(count) {
      const input = event.target.closest('.check-in-widget').querySelector('.page-input');
      input.value = parseInt(input.value || 0) + count;
    }

    function promptCustomPages() {
      const input = event.target.closest('.check-in-widget').querySelector('.page-input');
      const customPages = prompt('Enter number of pages:');
      if (customPages && !isNaN(customPages)) {
        input.value = parseInt(input.value || 0) + parseInt(customPages);
      }
    }

    function logProgress() {
      alert('Progress logged! üéâ (This would update the progress bar and stats)');
    }

    function showModal() {
      document.getElementById('celebrationModal').classList.add('active');
    }

    function closeModal() {
      document.getElementById('celebrationModal').classList.remove('active');
    }

    function selectRating(btn) {
      document.querySelectorAll('.rating-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
    }

    function shareBook() {
      alert('Sharing to feed! üìö (Would create a post with completion stats)');
      closeModal();
    }

    function addToStack() {
      alert('Adding to stack! üìö (Would open stack selection/creation)');
      closeModal();
    }

    let paceIndex = 0;
    function changePace() {
      const badges = document.querySelectorAll('.pace-badge');
      const states = [
        { class: 'ahead', text: 'üî• AHEAD BY 3 DAYS' },
        { class: 'on-track', text: '‚úì ON TRACK' },
        { class: 'behind', text: 'BEHIND: +15 PAGES' },
        { class: 'crushing', text: 'üî• CRUSHING IT' }
      ];

      paceIndex = (paceIndex + 1) % states.length;
      const state = states[paceIndex];

      badges.forEach(badge => {
        badge.className = `pace-badge ${state.class}`;
        badge.textContent = state.text;
      });
    }

    function toggleDatePicker(bookId) {
      const datePicker = document.getElementById(`datePicker-${bookId}`);
      // Close all other date pickers
      document.querySelectorAll('.date-picker-dropdown').forEach(picker => {
        if (picker.id !== `datePicker-${bookId}`) {
          picker.classList.remove('active');
        }
      });
      datePicker.classList.toggle('active');
    }

    function closeDatePicker(bookId) {
      const datePicker = document.getElementById(`datePicker-${bookId}`);
      datePicker.classList.remove('active');
    }

    function saveDate(bookId) {
      const dateInput = document.getElementById(`dateInput-${bookId}`);
      const newDate = dateInput.value;

      // Update the card's data attribute
      const card = document.querySelector(`[data-book-id="${bookId}"]`);
      card.dataset.targetDate = newDate;

      // Update the display
      const targetDisplay = card.querySelector('[data-target-display]');
      const date = new Date(newDate);
      const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
      targetDisplay.textContent = `${monthNames[date.getMonth()]} ${date.getDate()}`;

      // Recalculate goals
      updateGoals(bookId);

      // Close the picker
      closeDatePicker(bookId);
    }

    function updateGoals(bookId) {
      const card = document.querySelector(`[data-book-id="${bookId}"]`);
      const currentPage = parseInt(card.dataset.currentPage);
      const totalPages = parseInt(card.dataset.totalPages);
      const pagesRemaining = totalPages - currentPage;

      // Calculate days until target
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      const targetDate = new Date(card.dataset.targetDate);
      const daysRemaining = Math.ceil((targetDate - today) / (1000 * 60 * 60 * 24));

      // Calculate daily pages needed
      const dailyPages = daysRemaining > 0 ? Math.ceil(pagesRemaining / daysRemaining) : pagesRemaining;

      // Update daily goal display
      const dailyGoalElement = card.querySelector('[data-daily-goal]');
      dailyGoalElement.textContent = `${dailyPages} pages`;

      // Update vibe check message
      const vibeCheckElement = card.querySelector('.comparison-text');
      const vibeMessages = [
        `That's like <strong>${dailyPages} mins of reading</strong> instead of scrolling`,
        `Just <strong>${dailyPages} pages</strong> - easier than your morning routine`,
        `That's like watching <strong>1 episode</strong> instead of scrolling`,
        `<strong>${dailyPages} mins less TikTok</strong> per day`,
        `About <strong>${Math.round(dailyPages * 2)} mins</strong> - one coffee break worth`
      ];
      vibeCheckElement.innerHTML = vibeMessages[Math.floor(Math.random() * vibeMessages.length)];

      // Calculate pace based on ideal progress
      const daysElapsed = 30 - daysRemaining; // Assuming 30 day reading period
      const idealPage = Math.floor((daysElapsed / 30) * totalPages);
      const pagesDifference = currentPage - idealPage;
      const daysDifference = Math.round(pagesDifference / dailyPages);

      // Update pace badge
      const paceBadge = card.querySelector('.pace-badge');
      if (daysDifference >= 3) {
        paceBadge.className = 'pace-badge ahead';
        paceBadge.textContent = `üî• AHEAD BY ${daysDifference} DAYS`;
      } else if (daysDifference >= 1) {
        paceBadge.className = 'pace-badge on-track';
        paceBadge.textContent = '‚úì ON TRACK';
      } else if (daysDifference <= -3) {
        paceBadge.className = 'pace-badge behind';
        paceBadge.textContent = `BEHIND: +${Math.abs(pagesDifference)} PAGES`;
      } else {
        paceBadge.className = 'pace-badge on-track';
        paceBadge.textContent = '‚úì ON TRACK';
      }
    }
  </script>
</body>
</html>
