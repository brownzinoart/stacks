<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stacks - Book Detail Overlay Prototype</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: #F4EFEA;
            color: #383838;
            padding: 20px;
        }

        /* Overlay Backdrop */
        .overlay-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(56, 56, 56, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
            overflow-y: auto;
        }

        /* Modal Container */
        .modal {
            background: #FFFFFF;
            border: 5px solid #383838;
            border-radius: 20px;
            box-shadow: -8px 8px 0px #383838;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        /* Close Button */
        .close-button {
            position: sticky;
            top: 0;
            right: 0;
            float: right;
            margin: 16px 16px 0 0;
            width: 44px;
            height: 44px;
            background: #FF7169;
            border: 3px solid #383838;
            border-radius: 50%;
            box-shadow: -3px 3px 0px #383838;
            font-size: 24px;
            font-weight: 900;
            color: #FFFFFF;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.15s;
            z-index: 10;
        }

        .close-button:hover {
            transform: translate(2px, -2px);
            box-shadow: -5px 5px 0px #383838;
        }

        .close-button:active {
            transform: translate(-2px, 2px);
            box-shadow: -2px 2px 0px #383838;
        }

        /* Modal Content */
        .modal-content {
            padding: 24px;
            clear: both;
        }

        /* Book Header Section */
        .book-header {
            display: flex;
            gap: 20px;
            margin-bottom: 24px;
        }

        .book-cover-large {
            width: 140px;
            height: 210px;
            flex-shrink: 0;
            background: #E0E7FF;
            border: 5px solid #383838;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            box-shadow: -6px 6px 0px #383838;
        }

        .book-header-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .book-title-large {
            font-size: 24px;
            font-weight: 900;
            line-height: 1.2;
            color: #383838;
        }

        .book-author-large {
            font-size: 18px;
            font-weight: 600;
            color: #6B6B6B;
            margin-bottom: 8px;
        }

        .book-meta-large {
            font-size: 13px;
            font-weight: 700;
            color: #999999;
            text-transform: uppercase;
        }

        .book-meta-large span {
            margin-right: 12px;
        }

        /* Overall Match */
        .overall-match {
            margin-top: 12px;
            padding: 16px;
            background: #667eea;
            border: 3px solid #383838;
            border-radius: 12px;
            box-shadow: -4px 4px 0px #383838;
            text-align: center;
        }

        .overall-match-number {
            font-size: 36px;
            font-weight: 900;
            color: #FFFFFF;
            display: block;
            margin-bottom: 4px;
        }

        .overall-match-label {
            font-size: 12px;
            font-weight: 900;
            color: #FFFFFF;
            text-transform: uppercase;
        }

        /* Description */
        .book-description {
            margin-bottom: 24px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 900;
            text-transform: uppercase;
            color: #383838;
            margin-bottom: 12px;
            letter-spacing: 0.5px;
        }

        .description-text {
            font-size: 15px;
            font-weight: 500;
            color: #6B6B6B;
            line-height: 1.6;
        }

        /* Match Breakdown */
        .match-breakdown {
            margin-bottom: 24px;
        }

        .match-explanation {
            margin-bottom: 24px;
            padding: 20px;
            background: #F4EFEA;
            border: 3px solid #383838;
            border-radius: 12px;
            box-shadow: -3px 3px 0px #383838;
        }

        .search-echo {
            display: flex;
            align-items: baseline;
            gap: 8px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .search-label {
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            color: #999999;
            letter-spacing: 0.5px;
        }

        .search-query-display {
            font-size: 16px;
            font-weight: 900;
            color: #667eea;
            font-style: italic;
        }

        .match-narrative {
            font-size: 15px;
            font-weight: 500;
            color: #383838;
            line-height: 1.7;
        }

        /* Action Buttons */
        .action-section {
            margin-bottom: 16px;
        }

        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .btn {
            padding: 16px 24px;
            border: 5px solid #383838;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: -4px 4px 0px #383838;
            cursor: pointer;
            transition: all 0.15s;
            text-align: center;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translate(2px, -2px);
            box-shadow: -6px 6px 0px #383838;
        }

        .btn:active {
            transform: translate(-2px, 2px);
            box-shadow: -2px 2px 0px #383838;
        }

        .btn-primary {
            background: #53DBC9;
            color: #383838;
        }

        .btn-secondary {
            background: #FFFFFF;
            color: #383838;
        }

        .btn-library {
            background: #6FC2FF;
            color: #FFFFFF;
        }

        .btn-icon {
            font-size: 20px;
        }

        /* More Options */
        .more-options {
            margin-top: 24px;
            padding-top: 20px;
            border-top: 2px solid #C4C4C4;
        }

        .more-options-title {
            font-size: 14px;
            font-weight: 900;
            text-transform: uppercase;
            color: #999999;
            margin-bottom: 12px;
            letter-spacing: 0.5px;
        }

        .option-links {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-link {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 14px 16px;
            background: #FFFFFF;
            border: 2px solid #C4C4C4;
            border-radius: 12px;
            text-decoration: none;
            transition: all 0.15s;
            box-shadow: -2px 2px 0px rgba(56, 56, 56, 0.1);
        }

        .option-link:hover {
            border-color: #383838;
            box-shadow: -3px 3px 0px rgba(56, 56, 56, 0.2);
            transform: translate(1px, -1px);
        }

        .option-icon {
            font-size: 24px;
            flex-shrink: 0;
        }

        .option-text {
            flex: 1;
        }

        .option-name {
            font-size: 15px;
            font-weight: 900;
            color: #383838;
            margin-bottom: 2px;
        }

        .option-desc {
            font-size: 12px;
            font-weight: 600;
            color: #6B6B6B;
        }

        /* Library Setup Note */
        .library-note {
            margin-top: 8px;
            padding: 12px;
            background: #FEF3C7;
            border: 2px solid #383838;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            color: #6B6B6B;
            text-align: center;
        }

        .library-note a {
            color: #383838;
            font-weight: 900;
            text-decoration: underline;
        }

        /* Social Proof Section */
        .social-proof {
            margin-bottom: 24px;
        }

        .badges-row {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .badge-item {
            padding: 10px 20px;
            border: 3px solid #383838;
            border-radius: 12px;
            box-shadow: -3px 3px 0px #383838;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 900;
        }

        .badge-item.bestseller {
            background: #EAC435;
            color: #383838;
        }

        .badge-item.rating {
            background: #FFFFFF;
            color: #383838;
        }

        .badge-icon {
            font-size: 18px;
        }

        /* Reader Tags */
        .reader-tags {
            margin-bottom: 16px;
        }

        .tag-label {
            font-size: 13px;
            font-weight: 700;
            color: #6B6B6B;
            margin-bottom: 8px;
            display: block;
        }

        .tags-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .reader-tag {
            padding: 6px 14px;
            background: #53DBC9;
            border: 2px solid #383838;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 700;
            color: #383838;
            box-shadow: -2px 2px 0px #383838;
        }

        /* Reviews Section */
        .reviews-section {
            margin-bottom: 24px;
        }

        /* Recent Reviews */
        .recent-reviews {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 12px;
        }

        .review-card {
            padding: 14px;
            background: #F4EFEA;
            border: 2px solid #383838;
            border-radius: 12px;
            box-shadow: -3px 3px 0px #383838;
        }

        .review-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .review-stars {
            font-size: 13px;
        }

        .review-author {
            font-size: 12px;
            font-weight: 700;
            color: #6B6B6B;
        }

        .review-text {
            font-size: 14px;
            font-weight: 500;
            color: #383838;
            line-height: 1.5;
            font-style: italic;
        }

        /* API Attribution */
        .api-attribution {
            display: flex;
            align-items: center;
            gap: 6px;
            justify-content: center;
            padding: 8px;
        }

        .attribution-text {
            font-size: 11px;
            font-weight: 600;
            color: #999999;
        }

        .attribution-link {
            font-size: 11px;
            font-weight: 900;
            color: #667eea;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 2px;
        }

        .attribution-link:hover {
            text-decoration: underline;
        }

        /* Mobile adjustments */
        @media (max-width: 480px) {
            .modal {
                border-width: 4px;
            }

            .book-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .book-cover-large {
                border-width: 4px;
            }

            .btn {
                border-width: 4px;
                font-size: 14px;
            }

            .link-button {
                border-width: 2px;
                font-size: 12px;
                padding: 10px 16px;
            }

            .close-button {
                margin: 12px 12px 0 0;
            }
        }
    </style>
</head>
<body>
    <!-- Demo: Show overlay backdrop -->
    <div class="overlay-backdrop" onclick="if(event.target === this) alert('Click X to close')">
        <div class="modal">
            <button class="close-button">√ó</button>

            <div class="modal-content">
                <!-- Book Header -->
                <div class="book-header">
                    <div class="book-cover-large" style="background: #FFE5B4;">
                        üìö
                    </div>
                    <div class="book-header-info">
                        <h1 class="book-title-large">A Cozy Murder in Maple Grove</h1>
                        <p class="book-author-large">Sarah Bennett</p>
                        <div class="book-meta-large">
                            <span>üìñ 320 pages</span>
                            <span>üìÖ 2023</span>
                        </div>
                        <div class="overall-match">
                            <span class="overall-match-number">92%</span>
                            <span class="overall-match-label">Overall Match</span>
                        </div>
                    </div>
                </div>

                <!-- Social Proof Section -->
                <div class="social-proof">
                    <h2 class="section-title">What Readers Are Saying</h2>

                    <!-- Badges Row -->
                    <div class="badges-row">
                        <div class="badge-item bestseller">
                            <span class="badge-icon">üèÜ</span>
                            <span class="badge-text">NYT Bestseller</span>
                        </div>
                        <div class="badge-item rating">
                            <span class="badge-icon">‚≠ê</span>
                            <span class="badge-text">4.2 (1,847 ratings)</span>
                        </div>
                    </div>

                    <!-- Reader Tags -->
                    <div class="reader-tags">
                        <span class="tag-label">Readers loved:</span>
                        <div class="tags-list">
                            <span class="reader-tag">Cozy</span>
                            <span class="reader-tag">Character-driven</span>
                            <span class="reader-tag">Twisty</span>
                            <span class="reader-tag">Atmospheric</span>
                        </div>
                    </div>
                </div>

                <!-- Why You'll Love This -->
                <div class="match-explanation">
                    <h2 class="section-title">Why You'll Love This</h2>

                    <div class="search-echo">
                        <span class="search-label">Your search:</span>
                        <span class="search-query-display">"cozy mystery small town"</span>
                    </div>

                    <p class="match-narrative">
                        This book delivers exactly that cozy small-town atmosphere you're craving, with an intimate cast of quirky characters you'll want to spend time with. The mystery unfolds slowly with clever twists that keep you guessing‚Äîperfect if you're in the mood for a slow-burn whodunit that feels like visiting a charming New England village.
                    </p>
                </div>

                <!-- Reviews Section -->
                <div class="reviews-section">
                    <h2 class="section-title">Recent Reviews</h2>

                    <!-- Recent Reviews -->
                    <div class="recent-reviews">
                        <div class="review-card">
                            <div class="review-header">
                                <span class="review-stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                                <span class="review-author">@booklover23</span>
                            </div>
                            <p class="review-text">"Perfect cozy mystery! The small-town setting felt so real and the characters were absolutely charming. Couldn't put it down."</p>
                        </div>
                        <div class="review-card">
                            <div class="review-header">
                                <span class="review-stars">‚≠ê‚≠ê‚≠ê‚≠ê</span>
                                <span class="review-author">@mystery_fan</span>
                            </div>
                            <p class="review-text">"Great plot twists and a protagonist you can't help but root for. Exactly what I was looking for in a cozy mystery."</p>
                        </div>
                    </div>

                    <!-- Hardcover Attribution -->
                    <div class="api-attribution">
                        <span class="attribution-text">Reviews from</span>
                        <a href="#" class="attribution-link">Hardcover ‚Üí</a>
                    </div>
                </div>

                <!-- Description -->
                <div class="book-description">
                    <h2 class="section-title">Description</h2>
                    <p class="description-text">
                        When the town librarian is found dead among the dusty stacks, amateur sleuth Eleanor Thompson must navigate a cast of quirky suspects and long-buried secrets in her small New England town. With its cozy atmosphere, clever twists, and a protagonist you'll root for, this charming mystery is perfect for fans of slow-burn whodunits.
                    </p>
                </div>

                <!-- Action Buttons -->
                <div class="action-section">
                    <h2 class="section-title">Get This Book</h2>
                    <div class="action-buttons">
                        <button class="btn btn-primary">
                            <span class="btn-icon">üìñ</span>
                            Buy on Bookshop.org
                        </button>
                        <button class="btn btn-library">
                            <span class="btn-icon">üìö</span>
                            Check San Francisco Public Library
                        </button>
                    </div>
                    <div class="library-note">
                        Using SF Public Library ¬∑ <a href="#">Change library</a>
                    </div>

                    <!-- More Options -->
                    <div class="more-options">
                        <h3 class="more-options-title">More Options</h3>
                        <div class="option-links">
                            <a href="#" class="option-link">
                                <span class="option-icon">üéß</span>
                                <div class="option-text">
                                    <div class="option-name">Listen on Libro.fm</div>
                                    <div class="option-desc">Audiobook ‚Ä¢ Supports indie bookstores</div>
                                </div>
                            </a>
                            <a href="#" class="option-link">
                                <span class="option-icon">üí¨</span>
                                <div class="option-text">
                                    <div class="option-name">View on Hardcover</div>
                                    <div class="option-desc">See more reviews & ratings</div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Demo: Close on button click
        document.querySelector('.close-button').addEventListener('click', function() {
            alert('In the real app, this would close the overlay and return to search results');
        });

        // Demo: Button clicks
        document.querySelectorAll('.btn, .link-button').forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const text = this.textContent.trim();
                alert(`Would open: ${text}`);
            });
        });
    </script>
</body>
</html>
